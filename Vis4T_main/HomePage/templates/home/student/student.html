<div class="feature chart-to-student col-12">
    <div class="row" style="width: 100%; height: 100%; padding: 0; margin: 0;">
        <div class="col-4" style="padding : 0">
            <div class="col-12" style="height: calc(25% - 5px); margin-bottom: 5px; position: relative;">
                <div class="wrap-detail-student" style="overflow: unset;">
                    <div class="dropdownStudent">
                        <button class="btn custom-btn btn-secondary dropdown-toggle" type="button" id="dropdownStudentName" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="border: none;">
                            <span></span>
                        </button>
                        <div class="dropdown-menu dropdown-menu-student" aria-labelledby="dropdownStudentName">
                            {% for s in student_list %}
                            <a class="dropdown-item dropdown-class" id="{{s.student_id}}">
                                {{s.student_name}}
                            </a>
                            {% endfor %}
                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12" style="height: calc(75% - 5px); margin-top: 10px;">
                <div class="wrap-detail-student">
                    
                </div>
            </div>
        </div>
        <div class="col-5">
            <div class="row" style="height: 100%; padding-top: 0;">
                <div class="col-12" style="height: calc(50% - 5px); margin-bottom: 5px;">
                    <div class="wrap-detail-student">
                        <div class="name-student">
                            <h2></h2>
                        </div>
                        <div class="mssv">
                            <div><label>MSSV: </label><span> </span></div>
                            <div><label>Gmail: </label><span> </span></div>
                        </div>
                    </div>
                </div>
                <div class="col-6" style="height: calc(50% - 5px); margin-top: 5px; padding-right: 5px;">
                    <div class="wrap-detail-student">
                        <div class="rank-in-class score-in-class">
                            <p>Điểm 4 <span style="padding: 0 10px;">/</span> Điểm 10 <span style="padding: 0 10px;">/</span> Điểm chữ</p>
                            <div></div>
                        </div>
                    </div>
                </div>
                <div class="col-6" style="height: calc(50% - 5px); margin-top: 5px; padding-left: 5px;">
                    <div class="wrap-detail-student">
                        <div class="rank-in-class">
                            <p>Học lực</p>
                            <div class="rank"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-3" style="padding : 0">
            <div class="row" style="height: 100%; padding-top: 0;">
                <div class="col-12" style="height: calc(50% - 5px); margin-bottom: 5px;">
                    <div class="wrap-detail-student">
                        <div class="rank-in-class">
                            <p>Xếp hạng</p>
                            <div>12 <span style="padding: 0 10px;">/</span> 64</div>
                        </div>
                    </div>
                </div>
                <div class="col-12" style="height: calc(50% - 5px); margin-top: 5px;">
                    <div class="wrap-detail-student">
                        <div class="rank-in-class">
                            <p>Điểm chữ</p>
                            <div>A</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="col-4" style="height: 60%; padding: 5px !important ;">
            <div class="wrap-detail-student"></div>
        </div>
        <div class="col-8" style="height: 60%; padding: 5px !important ;">
            <div class="wrap-detail-student"></div>
        </div> -->
    </div>
    <script>
        $(document).ready(function() {
            $.ajax({
                url: "{% url 'student_detail_api' student.student_id %}",
                type: 'GET',
                dataType: 'json',
                success: function(data) {
                    $('button#dropdownStudentName span').text(data.student_name);
                    $('div.name-student h2').text(data.student_name);
                    $('div.mssv div:nth-child(1) span').text(' ' + data.student_id);
                    $('div.mssv div:nth-child(2) span').text(' ' + data.student_gmail);
                    $('div.score-in-class div').text(data.score_4 + ' / ' + data.score_10 + ' / ' + data.score_char);
                    $('div.rank').text(data.rank);
                }
            })
        })
        
        $('div.dropdown-menu-student a.dropdown-class').click(function() {
            let id = $(this).attr('id');
            console.log(url);
            $.ajax({
                url: '/student/' + studentId + '/',
                type: 'GET',
                dataType: 'json',
                success: function(data) {
                    $('button#dropdownStudentName span').text(data.student_name);
                    $('div.name-student h2').text(data.student_name);
                    $('div.mssv div:nth-child(1) span').text(' ' + data.student_id);
                    $('div.mssv div:nth-child(2) span').text(' ' + data.student_gmail);
                    $('div.score-in-class div').text(data.score_4 + ' / ' + data.score_10 + ' / ' + data.score_char);
                    $('div.rank').text(data.rank);
                }
            })
        })
        
    </script>
</div>
